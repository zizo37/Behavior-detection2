KEYWORDS = {
    'supportive': {
        'high_impact': [
            'amazing', 'excellent', 'outstanding', 'brilliant', 'fantastic', 
            'incredible', 'perfect', 'superb', 'phenomenal', 'magnificent',
            'exceptional', 'extraordinary', 'marvelous', 'spectacular',
            'remarkable', 'wonderful', 'delightful', 'stellar', 'sublime',
            'jaw-dropping', 'breathtaking', 'astonishing', 'unbelievable',
            'formidable', 'genius', 'legendary', 'unmatched', 'priceless',
            'masterpiece', 'iconic', 'life-changing', 'groundbreaking', 'world-class',
            'revolutionary', 'trailblazing', 'epic', 'heroic', 'transformational',
            'pioneering', 'visionary', 'elite', 'spectacular', 'mind-blowing',
            'stunning', 'unparalleled', 'remarkable', 'awe-inspiring', 'impressive',
            'innovative', 'high-caliber', 'superior', 'state-of-the-art', 'peerless',
            'beyond expectations', 'cutting-edge', 'profound', 'heartwarming', 'incomparable',
            'game-changer', 'unprecedented', 'renowned', 'notable', 'renowned',
            'acclaimed', 'prestigious', 'stellar', 'top-tier', 'world-renowned',
            'legendary', 'pristine', 'brilliantly executed', 'masterfully done',
            'exceptionally crafted', 'wonderfully designed', 'thought-provoking', 'artistic',
            'immaculate', 'seamless', 'unblemished', 'radiant', 'flawless'
        ],
        'medium_impact': [
            'great', 'awesome', 'impressive', 'beautiful', 'congratulations',
            'inspiring', 'excited', 'love', 'enjoying', 'happy', 'pleased',
            'professional', 'reliable', 'efficient', 'innovative', 'valuable',
            'recommended', 'satisfied', 'quality', 'thrilled', 'rewarding',
            'fulfilling', 'brilliant', 'engaging', 'supportive', 'grateful',
            'uplifting', 'encouraging', 'motivating', 'productive', 'helpful',
            'positive', 'appreciative', 'energetic', 'dynamic', 'meaningful',
            'constructive', 'collaborative', 'proactive', 'effective', 'dedicated',
            'respected', 'trusted', 'admirable', 'commendable', 'noteworthy',
            'skilled', 'capable', 'versatile', 'resourceful', 'dependable',
            'pragmatic', 'tactful', 'inspirational', 'accomplished', 'visionary',
            'focused', 'passionate', 'aligned', 'balanced', 'engrossing',
            'mesmerizing', 'captivating', 'enlightening', 'practical', 'insightful',
            'articulate', 'dedicated', 'empowering', 'cheerful', 'enthusiastic',
            'wholehearted', 'realistic', 'genuine', 'cordial', 'optimistic'
        ],
        'low_impact': [
            'good', 'nice', 'helpful', 'cool', 'interesting', 'thanks',
            'appreciate', 'worthy', 'decent', 'fine', 'pleasant', 'practical',
            'useful', 'convenient', 'comfortable', 'reasonable', 'appropriate',
            'admirable', 'commendable', 'noteworthy', 'satisfactory', 'doable',
            'fitting', 'agreeable', 'basic', 'adequate', 'sufficient',
            'manageable', 'achievable', 'preferable', 'suitable', 'functional',
            'relevant', 'applicable', 'accessible', 'affordable', 'workable',
            'ordinary', 'standard', 'acceptable', 'uncomplicated', 'straightforward',
            'moderate', 'supportable', 'agreeable', 'fine-tuned', 'polished',
            'non-problematic', 'use-worthy', 'amenable', 'harmonious', 'pleasantly surprising',
            'casual', 'neutral', 'modest', 'affectionate', 'simplistic', 'mellow'
        ],
        'encouragement': [
            'go for it', 'jump right in', 'get started', 'take the plunge',
            'you can do it', 'keep going', 'don\'t give up', 'start now',
            'believe in yourself', 'make it happen', 'start today', 'worth it',
            'keep pushing', 'stay strong', 'never stop', 'trust yourself',
            'chase your dreams', 'aim high', 'reach for the stars', 'keep believing',
            'stay motivated', 'you\'re almost there', 'take the lead', 'seize the moment',
            'rise to the occasion', 'don\'t hesitate', 'embrace the challenge',
            'go beyond', 'step forward', 'pursue excellence', 'keep striving',
            'advance boldly', 'lead the way', 'push boundaries', 'think big',
            'unlock potential', 'overcome limits', 'dare greatly', 'achieve your best',
            'power through', 'break through', 'ignite change', 'face fearlessly',
            'venture forth', 'soar high', 'reach for greatness', 'be the change'
        ],
        'motivation': [
            'inspiring', 'motivated', 'determined', 'focused', 'committed',
            'dedicated', 'passionate', 'driven', 'empowered', 'energized',
            'enthusiastic', 'confident', 'ambitious', 'persistent', 'resilient',
            'unstoppable', 'fearless', 'bold', 'brave', 'undaunted',
            'visionary', 'hopeful', 'tenacious', 'courageous', 'steadfast',
            'diligent', 'industrious', 'enterprising', 'innovative', 'progressive',
            'goal-oriented', 'proactive', 'hardworking', 'persevering',
            'steadfast', 'focused', 'resolute', 'adventurous', 'steadfastly loyal',
            'relentless', 'resolutely driven', 'purposeful', 'aspirational',
            'futuristic', 'grounded', 'invigorated', 'rejuvenated', 'spiritually strong',
            'full of zest', 'limitless', 'indefatigable', 'wholeheartedly driven'
        ]
    },
    'critical': {
        'high_impact': [
            'terrible', 'horrible', 'awful', 'disgusting', 'pathetic',
            'disaster', 'waste', 'useless', 'catastrophic', 'dreadful',
            'appalling', 'atrocious', 'devastating', 'horrific', 'abysmal',
            'incompetent', 'unacceptable', 'inexcusable', 'unforgivable',
            'negligent', 'unbearable', 'dire', 'disastrous', 'unmitigated',
            'outrageous', 'heinous', 'detestable', 'untrustworthy', 'shameful',
            'disrespectful', 'unspeakable', 'despicable', 'inconceivable',
            'unredeemable', 'egregious', 'miserable', 'appalling', 'abhorrent'
        ],
        'medium_impact': [
            'bad', 'poor', 'wrong', 'disappointing', 'annoying', 'failed',
            'stupid', 'hate', 'frustrating', 'inadequate', 'ineffective',
            'inferior', 'problematic', 'concerning', 'unreliable', 'defective',
            'flawed', 'incomplete', 'unsatisfactory', 'subpar', 'mediocre',
            'unsupportive', 'unhelpful', 'short-sighted', 'unprepared', 'illogical',
            'unclear', 'unorganized', 'unbalanced', 'imprecise', 'haphazard',
            'sloppy', 'confusing', 'inefficient', 'chaotic', 'poorly executed',
            'half-hearted', 'mismanaged', 'underwhelming', 'uninspiring', 'lackluster',
            'overcomplicated', 'contradictory', 'immature', 'overpromised',
            'unstructured', 'outdated', 'unappealing', 'mediocre strategy',
            'undelivered', 'unsustainable', 'careless', 'underdeveloped', 'irrelevant',
            'untrustworthy', 'rushed', 'untimely', 'inept', 'uninventive', 'ill-planned',
            'ineffective leadership', 'vague', 'insufficient', 'suboptimal',
            'underestimated', 'superficial', 'uninformed', 'misaligned', 'unsuited'
        ]
,
        'low_impact': [
            'mediocre', 'meh', 'dislike', 'doubt', 'confused', 'weird',
            'questionable', 'uncertain', 'unconvincing', 'unimpressed',
            'underwhelming', 'tedious', 'pointless', 'boring', 'tiresome',
            'redundant', 'unnecessary', 'basic', 'predictable', 'generic',
            'forgettable', 'minor', 'irrelevant', 'overrated', 'inconsequential',
            'weak', 'futile', 'bland', 'undervalued', 'mundane', 'passive',
            'unpersuasive', 'shallow', 'uninspired', 'half-hearted', 'unresponsive',
            'awkward', 'inconsistent', 'insignificant', 'modest', 'small-scale',
            'flimsy', 'unimpressive', 'slow', 'conventional', 'safe', 'lackluster',
            'underachieving', 'trivial', 'negligible', 'mediocre outcome', 'disregarded',
            'unassertive', 'static', 'repetitive', 'nonessential', 'lukewarm', 'timid',
            'understated', 'dull', 'weak attempt'
        ]
    }
}

def analyze_text(text):
    if not text:
        return {
            'supportive_score': 0,
            'critical_score': 0,
            'final_score': 0,
            'sentiment': 'neutral',
            'found_keywords': {'positive': [], 'negative': []}
        }

    text_lower = text.lower()
    found_keywords = {'positive': [], 'negative': []}
    scores = {'supportive': 0, 'critical': 0}
    
    # Score weights for each category
    category_weights = {
        'high_impact': 3.0,
        'medium_impact': 2.0,
        'low_impact': 1.0,
        'encouragement': 2.5,
        'motivation': 2.0
    }

    # Check for keywords and calculate scores
    for sentiment_type in KEYWORDS:
        for category, words in KEYWORDS[sentiment_type].items():
            weight = category_weights.get(category, 1.0)
            
            for word in words:
                if word in text_lower:
                    if sentiment_type == 'supportive':
                        scores['supportive'] += weight
                        found_keywords['positive'].append(word)
                    else:
                        scores['critical'] += weight
                        found_keywords['negative'].append(word)

    final_score = scores['supportive'] - scores['critical']

    # Determine sentiment
    if final_score > 0.3:
        sentiment = 'positive'
    elif final_score < -0.3:
        sentiment = 'negative'
    else:
        sentiment = 'neutral'

    return {
        'supportive_score': round(scores['supportive'], 2),
        'critical_score': round(scores['critical'], 2),
        'sentiment_score': round(final_score, 2),
        'sentiment': sentiment,
        'found_keywords': found_keywords
    }

def custom_keyword_score(text):
    return analyze_text(text)